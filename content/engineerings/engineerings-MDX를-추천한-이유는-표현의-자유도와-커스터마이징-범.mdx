---
title: MDX를 추천한 이유는 “표현의 자유도와 커스터마이징 범위가 압도적으로 넓기 때문”
slug: engineerings-MDX를-추천한-이유는-표현의-자유도와-커스터마이징-범
summary: ''
pageCover: >-
  https://images.unsplash.com/photo-1593062096033-9a26b09da705?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb
notionId: 2301eb5c0337807eb71bde1fcaa084ec
password: ''
type: ENGINEERINGS
sub_type: TIL
category: TIL
tags:
  - mdx
favorite: false
date: '2025-07-14'
last_edited_time: '2025-08-12T07:18:00.000Z'
lastEditedDate: 2025-08-12T07:18:00.000Z
draft: false
description: ''
icon: ''
full: false
lastModified: '2025-08-25'
readingTime: 42
wordCount: 8314
status: published
author: ryoonwithinwisdomlights
version: 1.0.0
---

정확하게 질문 잘했어. 그리고 <strong>“왜 MDX냐?”</strong>를 딱 짚은 거야.
결론부터 말하자면:

> ✅
>
> **맞아. MDX를 추천한 이유는 “표현의 자유도와 커스터마이징 범위가 압도적으로 넓기 때문”이야.**
>
>
> 특히 Notion에서 가져온 다양한 콘텐츠 유형(유튜브, PDF, 링크 프리뷰 등)은
>
> **일반 Markdown만으로는 표현이 어렵고 한계가 있어.**
>
>


<strong>🔍 왜 일반 Markdown만으론 부족할까?</strong>



| <strong>콘텐츠 유형</strong>         | <strong>Markdown에서 표현 가능?</strong> | <strong>한계</strong>                 |
| ------------------ | --------------------- | ---------------------- |
| 텍스트, 제목            | ✅ 가능                  | 없음                     |
| 코드 블록              | ✅ 가능                  | shiki 등 하이라이팅 추가는 어려움  |
| 이미지                | ✅ 가능                  | alt, caption 제한적       |
| 유튜브 링크             | ❌ 어려움                 | iframe 직접 넣기 어려움       |
| PDF 파일             | ❌ 불가능                 | HTML로 삽입 불가            |
| 북마크/링크 프리뷰         | ❌ 안 됨                 | og:image, meta 등 표현 불가 |
| 커스텀 블록 (callout 등) | ❌ 안 됨                 | 디자인/기능 삽입 불가           |


→ 결국 일반 Markdown은 <strong>기본적인 콘텐츠만</strong> 표현 가능해.


→ 그런데 <strong>Notion은 멀티미디어 & 구조적 블록 기반 문서</strong>잖아?


→ 그래서 Markdown으로만 변환하면 정보가 “잘리거나 날아가거나 표현력 손실”이 생겨.


## <strong>✅ 그래서 MDX를 추천한 이유 3가지</strong>


### <strong>1️⃣</strong>


### <strong>멀티미디어 표현력 확장</strong>

- &lt;YouTube id="abc123" /&gt;
- &lt;PDFViewer src="/files/my.pdf" /&gt;
- &lt;Bookmark href="https://example.com" title="..." image="..." /&gt;

➡ 이런 <strong>컴포넌트 형태로 표현 가능</strong>


➡ Notion 블록 단위로 컴포넌트 매핑도 가능 (예: Callout → &lt;Callout type="info"&gt;...&lt;/Callout&gt;)


---


### <strong>2️⃣</strong>


### <strong>정적 렌더링 + SEO 최적화 가능</strong>

- .mdx는 Next.js에서 <strong>정적 HTML로 빌드 가능</strong>
- &lt;head&gt; 안에 title, description, og:image 다 박을 수 있음
- 검색엔진, SNS 공유 최적화 가능

➡ 실시간 렌더 (react-notion-x)보다 훨씬 빠르고 안정적


➡ 로봇이 페이지 구조를 이해하기 쉬움 (SSR or SSG)


---


### <strong>3️⃣</strong>


### <strong>디자인과 UX 커스터마이징 자유도</strong>

- Notion callout → Tailwind 기반 &lt;Callout&gt; 컴포넌트
- Bookmark → 이미지 프리뷰 포함된 &lt;BookmarkCard&gt;
- 링크 → 자동 언패킹 &lt;Unfurl url="..." /&gt;

➡ Markdown은 무조건 텍스트


➡ MDX는 <strong>React 기반 전체 디자인 구성 가능</strong>


---



<strong>🔄 Notion → MDX 실전 예시</strong>



| <strong>Notion 블록</strong> | <strong>MDX 변환 예시</strong>                               |
| ------------- | ------------------------------------------- |
| 유튜브 링크        | &lt;YouTube id="abc123" /&gt;                     |
| PDF 첨부        | &lt;PDF src="/files/manual.pdf" /&gt;             |
| Callout 블록    | &lt;Callout type="warning"&gt;중요합니다!&lt;/Callout&gt;    |
| 링크 프리뷰        | &lt;Bookmark href="https://..." title="..." /&gt; |


※ 이런 식으로 <strong>notion-to-mdx.ts 스크립트에서 변환 로직을 설정</strong>하면 돼.


---


## <strong>🧠 그래서 구조적으로 이렇게 생각하면 돼</strong>


```plain text
[Notion]
 → notion-to-md로 Markdown 변환
   → 커스텀 변환 스크립트로 .mdx로 변형
     → React Component로 변환할 수 있는 Hook Point 삽입
       → @content-collections/mdx로 정적 빌드
         → SEO + 성능 + 디자인 다 잡음
```


## <strong>✅ 결론</strong>

> 🔥
>
> **“표현력 + 성능 + 커스터마이징”의 세 마리 토끼를 잡으려면, Notion → MDX → 정적 렌더링이 정답**
>
>
- 유튜브, PDF, 북마크 같은 블록들 표현해야 한다면 <strong>Markdown은 한계 있음</strong>
- 정적 빌드 + React 컴포넌트 표현이 가능해야 한다면 <strong>MDX는 사실상 유일한 솔루션</strong>

---


필요하다면 이제:

- notion-to-md 결과 → .mdx로 저장하면서 &lt;YouTube /&gt;, &lt;Bookmark /&gt; 삽입하는 스크립트
- MDX 컴포넌트 자동 등록 방법
- rehype-pretty-code + Tailwind + prose 스타일 조합 예시

| <strong>단계</strong>                                       | <strong>진행상태</strong>                     |
| -------------------------------------------- | ---------------------------- |
| <strong>1. Notion API로 데이터 가져오기</strong>                  | ✅ 완료                         |
| <strong>2. notion-to-md로 Markdown 문자열 변환</strong>         | ✅ 완료                         |
| <strong>3. gray-matter로 frontmatter 붙이기</strong>          | ✅ 완료                         |
| <strong>4. .mdx 파일로 저장 (content/record)</strong>          | ✅ 완료                         |
| <strong>5. @content-collections/core로 컬렉션 분석</strong>     | ✅ 완료 (content.config.ts 설정됨) |
| <strong>6. @content-collections/mdx로 render() 생성</strong> | ✅ 완료 (.mdx → render 생성됨)     |
| <strong>7. MDXContent로 렌더링</strong>                       | 🟡 지금 여기!                    |
| <strong>8. 커스텀 블록(MDX 컴포넌트) 확장</strong>                   | ⏳ 추후 단계                      |


> 고미워 너가 권유하는 결론처럼 하면 될 것 같아.  
> 그런데 나 또 궁금한게.[https://ryoonwithwisdomtrees.notion.site/21a1eb5c03378057b4e5d3be1fd96dce?v=21a1eb5c033781ebb512000cc8e1b56a&source=copy_link](https://ryoonwithwisdomtrees.notion.site/21a1eb5c03378057b4e5d3be1fd96dce?v=21a1eb5c033781ebb512000cc8e1b56a)  
> 내 노션디비보면 알겠지만 글의 type이 여러개란 말이지?  
> 기존에는 타입별로 갖고왔는데,  
> 이제 새롭게 바뀌는 notiondb=>md=>mdx=> 이 구조의 블로그는  
> 그냥 Record라는 단일 디렉토리 하위로 다 값을 갖고오게 바꾸는게 맞는걸까? type은이제  
> Notice, Page, Menu, SubMenu,SubMenuPage,Record만 있고  
> ( 모든 게시글은 다 Record. SubMenuPage나 Page는 특정 타입으로 떨어지는 게시글들이 아닌 메인 메뉴 하위의 author, norkive등을 소개하는 페이지. notice는 그야말로 공지사항용) sub_type이나 카테고리에 engineering,general,project이렇게 나누는게 맞으려나?  
> 그리고 성찬이는 보니까 [https://www.sxungchxn.dev/blog/47eb7d5f-0c8b-4e45-8c6e-4c8a103f9c10](https://www.sxungchxn.dev/blog/47eb7d5f-0c8b-4e45-8c6e-4c8a103f9c10)  
> 이렇게 slug가 노션 id값이더라고. 퓨마독스는 [https://fumadocs.dev/docs/headless/content-collections](https://fumadocs.dev/docs/headless/content-collections) 이렇게 문자열이고.  
> 문자열 방식이 더 좋은거 같지만, 이제 블로그문서를 id값으로 가져오는거는 불가능해진건가?  
> 그러면 우리가 이제까지 upsache redis등을 통해서 구축한 캐슁( 글 하나 가져오기, 전체글 가져오기별로 다르게적용한)은 다 무용지물 되는거아닌가?  
> 등등의 생각에 복잡하고 걱정이 많이돼.


륭언니 고민 아주 현실적이고 깊이 있어서 너무 좋고, 지금 리팩토링 방향을 진짜 잘 잡아가고 있어요. 하나하나 정리해서 <strong>현재 구조에 맞는 가장 깔끔한 아키텍처</strong> 제안드릴게요:


---


## <strong>✅ 1.</strong>


## <strong>디렉토리 구조: Record 하나로 통합 vs 타입별 분리?</strong>


### <strong>🔹 추천:</strong>


### <strong>content/record</strong>


### <strong>단일 디렉토리 사용 + 타입은</strong>


### <strong>FrontMatter</strong>


### <strong>로 구분</strong>

- Notion DB에서 type 속성은 Menu, Notice, Page, SubMenu, SubMenuPage, Record 이렇게 있지만,
- 실제 보여주는 <strong>블로그 콘텐츠는 Record뿐</strong>이잖아요?

👉 그래서 .mdx 파일은 모두 content/record/에 저장하고,


type은 FrontMatter에 보존해서 필요할 때만 필터링하는 게 깔끔해요.


```plain text
---
title: "나의 블로그 글"
date: "2025-07-14"
type: "Record"
sub_type: "engineering"
tags: ["Next.js", "Notion"]
draft: false
---
```


이렇게 하면 /record/[slug]에서 <strong>sub_type</strong>, tags, type 전부 필터링이나 분류에 사용할 수 있어요.



**✅ 2. 
성찬이처럼 slug에 UUID 쓰는 구조는 왜 안 추천하냐면…**



### <strong>📉 단점:</strong>

- 사용자 입장에서 너무 불친절해요 (URL 기억도 안 남)
- SEO 약해요. 검색엔진이 이게 무슨 글인지 알 수 없음.
- 링크 공유도 구리죠… UX적으로 ✘


<strong>✅ 대신:/record/nextjs-15-architecture-refactor-guide</strong>


- 글 제목 기반 slug
- 중복 있을 시 -1, -2 suffix
- entry.slug → URL 경로로 사용
- 그래도 Notion ID 필요하면 entry.notionId로 같이 보존하면 돼요.


**✅ 3. 
그럼 캐싱 구조는 무용지물 되는 거야?**

**👌 절대 아니에요! 
구조가 바뀌었을 뿐 역할은 그대로 유효해요.**



| <strong>예전 방식 (notion-client 기반)</strong> | <strong>새로운 방식 (정적 MDX 기반)</strong>        |
| ---------------------------- | ----------------------------- |
| 서버에서 직접 요청 (getPage etc.)    | notion-to-mdx.ts 실행 시 변환 후 저장 |
| 매 요청마다 캐시 필요                 | <strong>빌드 시점에 모두 캐시됨</strong> (SSG)       |
| Redis 등으로 getPage 캐싱         | 더이상 필요 없음 (파일 시스템 기반 정적 캐시)   |


### <strong>💡 단, 다음과 같은 캐싱은 여전히 쓸 수 있어요:</strong>

- 🔁 <strong>글 목록 정렬 결과</strong>를 getAllRecords() 형태로 인메모리 캐싱
- 📌 <strong>검색용 인덱스</strong> (예: fuse.js용 JSON) Redis에 올려도 됨
- 🧠 <strong>조회수/좋아요 등 dynamic 데이터</strong>는 Redis or DB 써야 함


**✅ 4. 
카테고리: sub_type vs tags 정리**



| <strong>목적</strong> | <strong>필드</strong>   | <strong>예시</strong>                              |
| ------ | -------- | ----------------------------------- |
| 콘텐츠 분류 | sub_type | "engineering", "project", "general" |
| 검색, 필터 | tags     | ["notion", "mdx", "frontend"]       |

- sub_type은 <strong>1:1 필수 분류</strong> (폴더처럼 역할)
- tags는 <strong>다대다 필수 아님</strong> (검색 필터용)


<strong>🔚 결론 요약</strong>



| <strong>항목</strong>        | <strong>추천 방향</strong>                                    |
| ------------- | -------------------------------------------- |
| 디렉토리 구조       | content/record/ 하나로 몰기                       |
| slug          | 제목 기반 slugify (중복 제거 로직 포함)                  |
| type/sub_type | frontmatter로 보존 & 필터                         |
| Notion ID     | 필요 시 notionId로 저장 (slug엔 쓰지 않음)              |
| 캐싱 전략         | 정적 파일 기반이라 Redis 불필요, but 검색/조회수 용도로는 여전히 유효 |
| SEO/UX        | UUID 대신 readable slug가 훨씬 우수                 |

