---
title: '[TIL] Refactoring SearchInput.'
slug: engineerings-TIL-Refactoring-SearchInput
summary: ''
pageCover: >-
  https://images.unsplash.com/photo-1593062096033-9a26b09da705?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb
notionId: 2231eb5c0337804eadfce7368b604088
password: ''
type: ENGINEERINGS
sub_type: TIL
category: TIL
tags:
  - usememo
favorite: true
date: '2025-07-01'
last_edited_time: '2025-08-09T14:49:00.000Z'
lastEditedDate: 2025-08-09T14:49:00.000Z
draft: false
description: ''
icon: ''
full: false
lastModified: '2025-08-09'
readingTime: 17
wordCount: 3255
status: published
author: ryoonwithinwisdomlights
version: 1.0.0
---

## <strong>âœ… ì „ì²´ ì½”ë“œ ê°œë… ì¡ê¸°</strong>


![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º_2025-07-11_á„‹á…©á„’á…®_2.12.58.png](https://res.cloudinary.com/dyrdul1dd/image/upload/v1754751395/norkive-notion-images/1754751393129-E1_84_89_E1_85_B3_E1_84_8F_E1_85_B3_E1_84_85_E1_85_B5_E1_86_AB_E1_84_89_E1_85_A3_E1_86_BA_2025-07-11_E1_84_8B_E1_85_A9_E1_84_92_E1_85_AE_2.12.58.png)


### <strong>1.</strong>


### <strong>Fuse.js</strong>

- <strong>ë­ì•¼?</strong>

    ìë°”ìŠ¤í¬ë¦½íŠ¸ìš© <strong>ë¹ ë¥¸ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬</strong>.


    ê²€ìƒ‰ì–´ê°€ â€œë¶€ì •í™•í•˜ê²Œâ€ ì¼ì¹˜í•´ë„ ìœ ì‚¬ë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì°¾ì•„ì¤˜. (ë¶€ë¶„ ê²€ìƒ‰, ì˜¤íƒ€ ê´€ìš©ì )

- <strong>ì—¬ê¸°ì„œ ì“°ëŠ” ì´ìœ ?</strong>

    ë°±ì—”ë“œ API ì—†ì´ ê·¸ëƒ¥ <strong>ë”ë¯¸ ë°°ì—´</strong>ì—ì„œ ì‹¤ì‹œê°„ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸í•˜ë ¤ê³ .

- <strong>ì‚¬ìš© ë°©ë²•:</strong>

```typescript
const fuse = new Fuse(ëŒ€ìƒë°ì´í„°, ì˜µì…˜);
fuse.search(ê²€ìƒ‰ì–´); // ê²°ê³¼ ë°°ì—´ ë°˜í™˜
```


### <strong>2.</strong>


### <strong>lodash.debounce</strong>

- <strong>ë­ì•¼?</strong>

    ì‚¬ìš©ìê°€ ì…ë ¥í•  ë•Œë§ˆë‹¤ <strong>ê³„ì† ê²€ìƒ‰ í˜¸ì¶œ ì•ˆ ë˜ê²Œ ë”œë ˆì´ ê±¸ì–´ì£¼ëŠ” í•¨ìˆ˜</strong>.

- <strong>ì—¬ê¸°ì„œ ì“°ëŠ” ì´ìœ ?</strong>

    í•œ ê¸€ì ì…ë ¥í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ ê²€ìƒ‰í•˜ë©´ ë„ˆë¬´ ë§ì€ ì—°ì‚° ë‚­ë¹„ â†’ <strong>0.3ì´ˆ ì…ë ¥ ë©ˆì¶”ë©´ ê·¸ë•Œ ê²€ìƒ‰</strong>

- <strong>ì‚¬ìš© ë°©ë²•:</strong>

    ```typescript
    const debouncedFn = debounce((text) => { ...ê²€ìƒ‰ë¡œì§... }, 300);
    ```


### <strong>3.</strong>


### <strong>useMemo</strong>

- <strong>ë­ì•¼?</strong>

    Reactì—ì„œ íŠ¹ì • ê°’ì´ë‚˜ ê°ì²´ë¥¼ <strong>ë©”ëª¨ì´ì œì´ì…˜(ìºì‹œ)</strong> í•´ì„œ,


    <strong>ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ê±¸ ë°©ì§€</strong>í•˜ëŠ” í›….

- <strong>ì—¬ê¸°ì„œ ì™œ ì”€?</strong>

    Fuse ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•´.

- <strong>ì‚¬ìš© ì˜ˆì‹œ:</strong>

    ```typescript
    const fuse = useMemo(() => new Fuse(ë°ì´í„°), []);
    ```



Â <strong>ì „ì²´ ë™ì‘ íë¦„</strong>



```plain text
[1] ì‚¬ìš©ìê°€ inputì— íƒ€ì´í•‘ â†’ setQuery ë³€ê²½ë¨
â†“
[2] query ìƒíƒœ ë³€ê²½ â†’ useEffect ì‹¤í–‰ë¨
â†“
[3] useEffect ì•ˆì—ì„œ debounceëœ handleSearch ì‹¤í–‰ë¨ (300ms ë”œë ˆì´)
â†“
[4] handleSearch ë‚´ë¶€:
- query ê¸¸ì´ ì²´í¬
- fuse.search() ì‹¤í–‰ â†’ ê²°ê³¼ ë°°ì—´ ë§Œë“¤ê¸°
- setResultsë¡œ ê²€ìƒ‰ê²°ê³¼ ìƒíƒœ ì—…ë°ì´íŠ¸
â†“
[5] ê²°ê³¼ í‘œì‹œ ì˜ì—­ì—ì„œ:
- ë¡œë”©ì¤‘ì¼ ë•Œ Skeleton
- ê²€ìƒ‰ê²°ê³¼ ìˆì„ ë•Œ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥
- ì—†ìœ¼ë©´ "No results found"
```



<strong>âœ… ì£¼ìš” State ì„¤ëª…</strong>



| <strong>tate</strong> | <strong>ì—­í• </strong>            |
| -------- | ----------------- |
| query    | í˜„ì¬ input ê°’        |
| results  | ê²€ìƒ‰ ê²°ê³¼ ë°°ì—´          |
| loading  | Skeleton ì¶œë ¥ ì—¬ë¶€ ì œì–´ |



<strong>âœ… ì£¼ìš” Hook/ë¡œì§ ì •ë¦¬</strong>



| <strong>í•­ëª©</strong>        | <strong>ì„¤ëª…</strong>                        |
| ------------- | ----------------------------- |
| useState      | query, results, loading ìƒíƒœ ê´€ë¦¬ |
| useEffect     | queryê°€ ë°”ë€” ë•Œë§ˆë‹¤ debounceë¡œ ê²€ìƒ‰ ì‹¤í–‰ |
| useMemo       | fuse ì¸ìŠ¤í„´ìŠ¤ ì¬ìƒì„± ë°©ì§€              |
| debounce      | ê²€ìƒ‰ í˜¸ì¶œ ìµœì í™”                     |
| fuse.search() | ì…ë ¥ì–´ ê¸°ë°˜ ê²€ìƒ‰                     |



<strong>âœ… í™•ì¥ ì‘ì—… ì‹œ ì ìš© í¬ì¸íŠ¸</strong>



| <strong>ê¸°ëŠ¥</strong>             | <strong>ì ìš© ìœ„ì¹˜</strong>                                        |
| ------------------ | ------------------------------------------------ |
| <strong>Algolia ì—°ë™</strong>     | â†’ handleSearch ë‚´ë¶€ fuse.search ëŒ€ì‹  <strong>axios fetch</strong> |
| <strong>Next.js &lt;Link&gt;</strong> | â†’ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ë¶€ë¶„ &lt;a href&gt; ëŒ€ì‹  &lt;Link href&gt;              |
| <strong>ì„œë²„ API</strong>         | â†’ handleSearch ë‚´ë¶€ë¥¼ <strong>API í˜¸ì¶œ ë¹„ë™ê¸° í•¨ìˆ˜</strong>ë¡œ ë³€ê²½         |
| <strong>Skeleton ì»¤ìŠ¤í…€</strong>   | â†’ loading ìƒíƒœì¼ ë•Œ ë³´ì—¬ì£¼ëŠ” div ì˜ì—­ë§Œ ìˆ˜ì •                  |


## <strong>âœ… ìš”ì•½:</strong>


ì§€ê¸ˆ ì½”ë“œëŠ” ğŸ‘‰


<strong>[ë¡œì»¬ ë°°ì—´ + Fuse ê²€ìƒ‰ + debounce ìµœì í™” + ë‹¤í¬ëª¨ë“œ + Skeleton]</strong>


ì´ ì¡°í•©ìœ¼ë¡œ êµ¬ì„±ëœ <strong>Next.js í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸í˜• ê²€ìƒ‰ Input UI</strong>

