---
title: '[TIL] Refactoring SearchInput.'
slug: engineering-TIL-Refactoring-SearchInput
summary: ''
pageCover: >-
  https://images.unsplash.com/photo-1593062096033-9a26b09da705?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb
notionId: 2231eb5c0337804eadfce7368b604088
password: ''
type: RECORD
sub_type: Engineering
category: TIL
tags:
  - ê°œë°œTIL
  - ê¸°ìˆ ë¡œê·¸
date: '2025-07-01'
last_edited_time: '2025-07-14T06:52:00.000Z'
lastEditedDate: 2025-07-14T06:52:00.000Z
draft: false
description: ''
icon: ''
full: false
lastModified: '2025-07-23'
readingTime: 1
wordCount: 30
status: published
author: ryoon
version: 1.0.0
---
# [TIL] Refactoring SearchInput.


## **âœ… ì „ì²´ ì½”ë“œ ê°œë… ì¡ê¸°**


![%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-07-11_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.12.58.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/056ff9f5-a9ef-486f-8acb-9eef51d06a2d/599d8552-f7cd-48c4-a48c-0824b0622588/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2025-07-11_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_2.12.58.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB466ZPFN6PHH%2F20250723%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250723T173142Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEPL%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJIMEYCIQCEL%2FilkhAIUOB7QlSVTu70weYel%2Fb72rX6%2BUMJ0WePjwIhANBTnR2yCXy6z1j2aJ%2Fmu4zsVmUA6qcGgZ%2FdqUbw%2F9veKv8DCBoQABoMNjM3NDIzMTgzODA1IgzwqJxUoHSYq5ohzQYq3AN5%2FICXuoyoOXBWC0Ep3%2B3JchOVj0R6HW2gHx5QAN1OUVYuHislKOCxpI8aTl6%2BEQmqpyzg9%2FUaziKsq%2FLD0YmCvcskRFdIb0O3l6LnFuTC3TPd8NbbhQA8gQ0Zo4OPmJ65bIDqgfi4KWGwD9agGSYWVct0OwHTIPdr0REmE3ODV40TbFunx2Qzv0Ui%2F3tLBSlZ%2Bx4v2%2FmS45tmequ%2FURmzigSKBQ6NrymUGB6G58%2FQH35x7cDqVS0c9s7Mox4rwdmRjb8iDX63hkA%2F%2BQ8TKOSGbc8visQzClsbdeb3fpkq%2BJONFerivshbICtE0y4MjZUBQXXGt%2BaWqFB%2B%2FCR5Vy5Qf6Dr46Gg9uCF5Q78jrzU9gRO6BbzNOBM4IrVG%2B2OAYCSyp4lzYsuWb%2FJaslLubMtDh2isRJYKEQE4lhkBSXfSwWFA8rLRe1UPP%2FCtvgV2m3Y65K%2BNMhuRoKxHHFGld9FnG2%2FPWsGbnIbijjCYd0qPTJPM2LdONzMH%2FD5BshoR7rwqCnS8JwYyYE2Zmi%2Fx5tE6KIsEdP61thfbp%2FhtwgSNNKx0hMWSskbCzdBXrmmWv3JEWkVm8AZId3cAhvj7MVr2OnbE06SGDnmG5pjmKZH3yTZ5xjB0UpK3aGn9zC4tITEBjqkAVb1tMsvriLwtVkvaKurVWrwnGSkEoQWYAxWQVH3VCILl3Aa5C2k71lHY%2FwEV1mkPIuXOYwDqtGZy4m2kRwhnT7UbLpKVc5%2BLrajcwx5bMFplTwkH2094nRoLT9xFew9rKLA4eZQKa%2Fm7dJh2H0yAmDlN74IKynwkPQWC0fvU8WMzjPxrlwA9i7nvjvjNdubQn7zwgA%2BtNZk17UMbDUrmYdG7%2F%2BQ&X-Amz-Signature=d31039a9799b9705db2e918bf714ac2ceed0c7485c3fdcaf33f8a738ae6fee59&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### **1.**


### **Fuse.js**

- **ë­ì•¼?**

    ìë°”ìŠ¤í¬ë¦½íŠ¸ìš© **ë¹ ë¥¸ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ê²€ìƒ‰ ë¼ì´ë¸ŒëŸ¬ë¦¬**.


    ê²€ìƒ‰ì–´ê°€ â€œë¶€ì •í™•í•˜ê²Œâ€ ì¼ì¹˜í•´ë„ ìœ ì‚¬ë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì°¾ì•„ì¤˜. (ë¶€ë¶„ ê²€ìƒ‰, ì˜¤íƒ€ ê´€ìš©ì )

- **ì—¬ê¸°ì„œ ì“°ëŠ” ì´ìœ ?**

    ë°±ì—”ë“œ API ì—†ì´ ê·¸ëƒ¥ **ë”ë¯¸ ë°°ì—´**ì—ì„œ ì‹¤ì‹œê°„ ê²€ìƒ‰ í…ŒìŠ¤íŠ¸í•˜ë ¤ê³ .

- **ì‚¬ìš© ë°©ë²•:**

```typescript
const fuse = new Fuse(ëŒ€ìƒë°ì´í„°, ì˜µì…˜);
fuse.search(ê²€ìƒ‰ì–´); // ê²°ê³¼ ë°°ì—´ ë°˜í™˜
```text


### **2.**


### **lodash.debounce**

- **ë­ì•¼?**

    ì‚¬ìš©ìê°€ ì…ë ¥í•  ë•Œë§ˆë‹¤ **ê³„ì† ê²€ìƒ‰ í˜¸ì¶œ ì•ˆ ë˜ê²Œ ë”œë ˆì´ ê±¸ì–´ì£¼ëŠ” í•¨ìˆ˜**.

- **ì—¬ê¸°ì„œ ì“°ëŠ” ì´ìœ ?**

    í•œ ê¸€ì ì…ë ¥í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ ê²€ìƒ‰í•˜ë©´ ë„ˆë¬´ ë§ì€ ì—°ì‚° ë‚­ë¹„ â†’ **0.3ì´ˆ ì…ë ¥ ë©ˆì¶”ë©´ ê·¸ë•Œ ê²€ìƒ‰**

- **ì‚¬ìš© ë°©ë²•:**

    ```typescript
    const debouncedFn = debounce((text) => { ...ê²€ìƒ‰ë¡œì§... }, 300);
    ```text


### **3.**


### **useMemo**

- **ë­ì•¼?**

    Reactì—ì„œ íŠ¹ì • ê°’ì´ë‚˜ ê°ì²´ë¥¼ **ë©”ëª¨ì´ì œì´ì…˜(ìºì‹œ)** í•´ì„œ,


    **ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë˜ëŠ” ê±¸ ë°©ì§€**í•˜ëŠ” í›….

- **ì—¬ê¸°ì„œ ì™œ ì”€?**

    Fuse ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê¸° ìœ„í•´.

- **ì‚¬ìš© ì˜ˆì‹œ:**

    ```typescript
    const fuse = useMemo(() => new Fuse(ë°ì´í„°), []);
    ```text



Â **ì „ì²´ ë™ì‘ íë¦„**



```plain text
[1] ì‚¬ìš©ìê°€ inputì— íƒ€ì´í•‘ â†’ setQuery ë³€ê²½ë¨
â†“
[2] query ìƒíƒœ ë³€ê²½ â†’ useEffect ì‹¤í–‰ë¨
â†“
[3] useEffect ì•ˆì—ì„œ debounceëœ handleSearch ì‹¤í–‰ë¨ (300ms ë”œë ˆì´)
â†“
[4] handleSearch ë‚´ë¶€:
- query ê¸¸ì´ ì²´í¬
- fuse.search() ì‹¤í–‰ â†’ ê²°ê³¼ ë°°ì—´ ë§Œë“¤ê¸°
- setResultsë¡œ ê²€ìƒ‰ê²°ê³¼ ìƒíƒœ ì—…ë°ì´íŠ¸
â†“
[5] ê²°ê³¼ í‘œì‹œ ì˜ì—­ì—ì„œ:
- ë¡œë”©ì¤‘ì¼ ë•Œ Skeleton
- ê²€ìƒ‰ê²°ê³¼ ìˆì„ ë•Œ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥
- ì—†ìœ¼ë©´ "No results found"
```text



**âœ… ì£¼ìš” State ì„¤ëª…**



| **tate** | **ì—­í• **            |
| --- |          | --- |                   | --- |
| -------- | ----------------- |
| --- |          | --- |                   | --- |
| query    | í˜„ì¬ input ê°’        |
| --- |          | --- |                   | --- |
| results  | ê²€ìƒ‰ ê²°ê³¼ ë°°ì—´          |
| --- |          | --- |                   | --- |
| loading  | Skeleton ì¶œë ¥ ì—¬ë¶€ ì œì–´ |
| --- |          | --- |                   | --- |



**âœ… ì£¼ìš” Hook/ë¡œì§ ì •ë¦¬**



| **í•­ëª©**        | **ì„¤ëª…**                        |
| --- |               | --- |                               | --- |
| ------------- | ----------------------------- |
| --- |               | --- |                               | --- |
| useState      | query, results, loading ìƒíƒœ ê´€ë¦¬ |
| --- |               | --- |                               | --- |
| useEffect     | queryê°€ ë°”ë€” ë•Œë§ˆë‹¤ debounceë¡œ ê²€ìƒ‰ ì‹¤í–‰ |
| --- |               | --- |                               | --- |
| useMemo       | fuse ì¸ìŠ¤í„´ìŠ¤ ì¬ìƒì„± ë°©ì§€              |
| --- |               | --- |                               | --- |
| debounce      | ê²€ìƒ‰ í˜¸ì¶œ ìµœì í™”                     |
| --- |               | --- |                               | --- |
| fuse.search() | ì…ë ¥ì–´ ê¸°ë°˜ ê²€ìƒ‰                     |
| --- |               | --- |                               | --- |



**âœ… í™•ì¥ ì‘ì—… ì‹œ ì ìš© í¬ì¸íŠ¸**



| **ê¸°ëŠ¥**             | **ì ìš© ìœ„ì¹˜**                                        |
| --- |                    | --- |                                                  | --- |
| ------------------ | ------------------------------------------------ |
| --- |                    | --- |                                                  | --- |
| **Algolia ì—°ë™**     | â†’ handleSearch ë‚´ë¶€ fuse.search ëŒ€ì‹  **axios fetch** |
| --- |                    | --- |                                                  | --- |
| **Next.js &lt;Link&gt;** | â†’ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ë¶€ë¶„ <a href> ëŒ€ì‹  &lt;Link href&gt;              |
| --- |                    | --- |                                                  | --- |
| **ì„œë²„ API**         | â†’ handleSearch ë‚´ë¶€ë¥¼ **API í˜¸ì¶œ ë¹„ë™ê¸° í•¨ìˆ˜**ë¡œ ë³€ê²½         |
| --- |                    | --- |                                                  | --- |
| **Skeleton ì»¤ìŠ¤í…€**   | â†’ loading ìƒíƒœì¼ ë•Œ ë³´ì—¬ì£¼ëŠ” div ì˜ì—­ë§Œ ìˆ˜ì •                  |
| --- |                    | --- |                                                  | --- |


## **âœ… ìš”ì•½:**


ì§€ê¸ˆ ì½”ë“œëŠ” ğŸ‘‰


**[ë¡œì»¬ ë°°ì—´ + Fuse ê²€ìƒ‰ + debounce ìµœì í™” + ë‹¤í¬ëª¨ë“œ + Skeleton]**


ì´ ì¡°í•©ìœ¼ë¡œ êµ¬ì„±ëœ **Next.js í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸í˜• ê²€ìƒ‰ Input UI**


ì—¬ê¸°ê°€ ëì´êµ¬ë‚˜!


ì§„ì§œë¡œ 

