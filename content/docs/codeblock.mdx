---
title: 'Code Block'
slug: code-block
summary: ''
pageCover: >-
  https://prod-files-secure.s3.us-west-2.amazonaws.com/056ff9f5-a9ef-486f-8acb-9eef51d06a2d/828ca17d-b1be-4142-9dd9-d81ad1d321aa/117919802.1.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4663KHF47ZF%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T043333Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDQaCXVzLXdlc3QtMiJHMEUCIFjvQAE9PEKOtHyTeFwKKDle4D6W5tDI%2BRNMH4nYYnOaAiEAoWJ7E2%2BuoY2CKg60BSFcxL%2FMXK9lkkJai%2BI7SYr1y1cq%2FwMIbRAAGgw2Mzc0MjMxODM4MDUiDIwAgkGNWQxKJl5cByrcA0gERkDUwRXvJbVR3bQ2%2B3GxENnivjuUuIBnvA7Ee%2B4LoovduBh5SFG4qNr7sUV37TDAdgESJ%2BAej2NKUkFULAKBt1e4EBIy7Mlalu0qRSnKJzEFT1%2Flisl3LP9LNwy4YvOeKhEe9vvMGkCPC01PEOsaQvHCChgBebTqQQmgr1wHNybn8D0ILwcbrgS7xq%2BDrEl%2F%2Bfc4AxRUkfnQtM0KQEt59Ca5OpyuKJmem4anuxX%2BbDrj7bMYCiC2OmI0DsxMyGyRCGTMyjuwwYzDyXTVMW9I5PRTa5H%2FFcYvfjK74JR3NqNrRAjwCzkJZmbBiXUguOBaqjkxhty8wgd7oOppjWUyQm1n8nVVVglvFxZNPEhm%2F86%2F11MoU%2FnPS3MKIfp7HY7LB6jILt2XUppoVqHii6oMA7wXw3ddzZw%2BXK6hQ9yer442NT1RkJXQOnhUgiSPCcfWpkbloXMDuvaKNFquemMvkoUC%2FnMQxkGdhIPEwwWH0Pyx5vZNbo7yQemec2gSVNartA137D%2F5qSrDEqLurSIwurEn%2BVrkSIHCWzza9r%2FUimZ0yg3DUUZ9qwrJWwEzxobJpT3T0QMX7bKSYMXhMYMTH7JLnWy7kh%2Fef9XD0bQH9AY01%2Fp316SPwcc%2BMLmsy8QGOqUBfq9Wt17OyN%2FskZFz73%2FAUpadxf%2BvDfFpKW4FGPRAAzj7g3GNTlzR%2BdzngvrPujSXEjwaEAjkxRX7WRtohYf3G2doQy5cnSDLu2XctbeUxtscel5Gw3NEkzHMe%2BickWl6L5aGc1cK68yCpk%2BCgNAzFVowCCPew0z5UsEGlsFvbasmSTFdDvU2P9fXASqaaVztQzGOmNsc3pEuoG7RTpo3L0l%2FXU6K&X-Amz-Signature=4957f0bf98782bd2dcaff4cd0ffafb1281868649dc188a71c896afca06f93542&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject
notionId: sdsdsddsds3433
password: ''
type: ENGINEERINGS
sub_type: Scrap
category: Inspiration
tags: []
date: '2023-12-06'
last_edited_time: '2025-08-06T03:59:00.000Z'
lastEditedDate: 2025-08-06T03:59:00.000Z
draft: false
description: Displaying Shiki highlighted code blocks
icon: ''
full: false
favorite: false
lastModified: '2025-08-06'
readingTime: 1
wordCount: 14
status: published
author: ryoon
version: 1.0.0
---


<div className="bg-fd-background rounded-lg prose-no-margin">

```js title="config.js"
import createMDX from 'fumadocs-mdx/config';

const withMDX = createMDX();

// [!code word:config]
/** @type {import('next').NextConfig} */
const config = {
  // [!code highlight]
  reactStrictMode: true, // [!code highlight]
}; // [!code highlight]

export default withMDX(config);
```

</div>


This is a MDX component to be used with [Rehype Code](/docs/headless/mdx/rehype-code) to display highlighted codeblocks.

Supported features:

- Copy button
- Custom titles and icons

> If you're looking for an equivalent with runtime syntax highlighting, see [Dynamic Code Block](/docs/ui/components/dynamic-codeblock).

## Usage

Wrap the pre element in `&lt;CodeBlock /&gt;`, which acts as the wrapper of code block.

```tsx title="mdx-components.tsx"
import defaultComponents from 'fumadocs-ui/mdx';
import type { MDXComponents } from 'mdx/types';
import { CodeBlock, Pre } from 'fumadocs-ui/components/codeblock';

export function getMDXComponents(components?: MDXComponents): MDXComponents {
  return {
    ...defaultComponents,
    // HTML `ref` attribute conflicts with `forwardRef`
    pre: ({ ref: _ref, ...props }) => (
      <CodeBlock {...props}>
        <Pre>{props.children}</Pre> {/* [!code highlight] */}
      </CodeBlock>
    ),
    ...components,
  };
}
```

See [Markdown](/docs/ui/markdown#codeblock) for usages.

### Keep Background

Use the background color generated by Shiki.

```tsx
import { Pre, CodeBlock } from 'fumadocs-ui/components/codeblock';

<CodeBlock keepBackground {...props}>
  <Pre>{props.children}</Pre>
</CodeBlock>;
```

### Icons

Specify a custom icon by passing an `icon` prop to `CodeBlock` component.

By default, the icon will be injected by the custom Shiki transformer.

```js title="config.js"
console.log('js');
```
